# Daily Market 대시보드

전 세계 주요 시장(주식, 채권, 통화, 암호화폐, 섹터/스타일 ETF)의 성과와 뉴스, 심리 분석, 애널리스트 의견 등을 한눈에 볼 수 있는 Streamlit 기반 대시보드입니다.

## 주요 특징

- **다양한 자산군 지원**
  - 주식시장: S&P500, NASDAQ100, ACWI, VEA, VWO, VGK, MCHI, EWJ, EWY, INDA, EWU, EWZ, EWC
  - 채권시장: TLT, SHY, LQD, EMB, HYG, TIP, VCSH, BNDX, BND, SPTS
  - 통화: 달러인덱스, 달러-원, 유로-원, 달러-엔 등
  - 암호화폐: 비트코인, 이더리움 등 주요 코인
  - 섹터 ETF: IT, 헬스케어, 금융, 에너지, 산업재 등
  - 스타일 ETF: Growth, Value, Momentum, Quality, Dividend, Low Volatility

- **성과 요약 및 비교**
  - 모든 자산군별로 일간/주간/월간/연간 등 다양한 기간의 영업일 기준 수익률(%) 테이블 제공
  - 월초/연초 기준(MTD, YTD) 수익률 포함
  - 데이터가 부족할 경우 가장 오래된 데이터 기준으로 자동 계산
  - 수익률은 색상(빨강: 양의 수익, 파랑: 음의 수익)으로 시각화

- **누적 수익률 차트**
  - 사용자가 사이드바에서 기간(N개월) 선택 가능 (3~36개월)
  - 주요 주가지수, 섹터 ETF, 스타일 ETF의 Normalized 누적 수익률 그래프(100 기준, Streamlit Plotly 차트)

- **뉴스 및 감정 분석**
  - 섹터별 ETF의 주요 Top 3 종목(holding) 추출 및 각 종목의 최신 뉴스 헤드라인 제공
  - 주요 종목 뉴스의 감정 점수(VADER 활용) 분석: 히스토그램, 박스플롯, 감정 카테고리(긍정/부정/중립) 분포 시각화
  - 뉴스 데이터가 부족하거나 수집 실패 시 경고 표시

- **애널리스트 의견 및 밸류에이션**
  - 주요 종목의 애널리스트 등급 점수(Strong Buy~Strong Sell), 목표가, 현재가, 상승여력(%) 제공
  - 종목별 PER/EPS 등 밸류에이션 데이터 및 EPS 상승률(%) 제공
  - 데이터는 Yahoo Finance API에서 실시간으로 수집

- **사용자 친화적 인터페이스**
  - 사이드바에서 분석 기간과 Update 버튼으로 새로고침 가능
  - 각 데이터 섹션별로 상세 설명 및 샘플 기준일 표시
  - 테이블, 차트 모두 Streamlit의 `use_container_width` 설정으로 가독성 극대화
  - 이미지, 데이터 출처, 제작자 표시

---

## 설치 및 실행 방법

1. **필수 패키지 설치**
   ```bash
   pip install -r requirements.txt
   ```
   - 주요 패키지: `streamlit`, `yfinance`, `yahooquery`, `pandas`, `numpy`, `plotly`, `requests`, `Pillow`, `nltk`, `matplotlib`, `lxml` 등
   - `lxml` 패키지가 없으면 실행 시 오류 메시지로 안내

2. **Streamlit 대시보드 실행**
   ```bash
   streamlit run global_dashboard.py
   ```

3. **최초 실행 시**
   - VADER 감정 사전 다운로드 필요: 자동으로 다운로드됨 (`nltk.download('vader_lexicon')` 코드 포함)

4. **대시보드 사용법**
   - 왼쪽 사이드바에서 분석 기간(N개월)을 조절하고, 'Update' 버튼을 클릭하면 모든 차트/테이블이 해당 기간에 맞게 새로고침됩니다.
   - 아래 주요 섹션(시장별 성과, 누적수익률 그래프, 뉴스 헤드라인, 감정 분석, 애널리스트 의견 등)을 확인하세요.

---

## 기능 상세

### 1. 시장별 성과 테이블
- 영업일 기준의 다양한 기간 수익률(1D, 1W, MTD, 1M, 3M, 6M, YTD, 1Y, 3Y) 제공
- 모든 자산군(주식, 채권, 통화, 암호화폐, 섹터, 스타일 ETF)별로 테이블 시각화

### 2. 누적 수익률 차트
- 주요 주가지수, 섹터 ETF, 스타일 ETF의 Normalized 누적수익률(100 기준) Plotly Line Chart
- 기간(N개월)은 사이드바에서 사용자가 직접 설정

### 3. 뉴스 헤드라인 및 감정 분석
- 각 섹터의 주요 종목(Top 3 Holdings)에 대한 최신 뉴스 헤드라인 제공
- 뉴스 감정 점수(Compound Score) 분포, 긍정/부정/중립 비율, 박스플롯 시각화
- 상세 뉴스 데이터 테이블로 확인 가능

### 4. 애널리스트 의견 및 밸류에이션 테이블
- 주요 종목의 애널리스트 등급 점수, 목표가, 현재가, 상승여력(%) 제공
- PER, EPS 등 실적 및 밸류에이션 데이터, EPS 성장률(%) 시각화

### 5. 기타
- 데이터 출처: Yahoo Finance
- 제작자: parksuk1991
- 이미지/레이아웃 등 UI 커스터마이징
- 필요시 코드에서 ETF/종목을 자유롭게 수정 가능

---

## 참고/유의사항

- ETF 및 종목은 미국 상장 기준이며, 필요시 코드 내 자산 리스트를 수정 가능합니다.
- 실시간 데이터 수집 실패 또는 데이터 부족 시 경고 메시지 표시
- 일부 데이터는 Yahoo Finance API 제한 또는 업데이트 지연에 따라 누락될 수 있음
- Streamlit, Plotly, yfinance 등 라이브러리 버전에 따라 결과가 달라질 수 있음

---

**문의/피드백**: [제작자 GitHub](https://github.com/parksuk1991)
